# Site Cloner MVP โ Modern Web Downloader & Processor

![Version](https://img.shields.io/badge/version-1.1.0-blue.svg)
![Go](https://img.shields.io/badge/Go-1.21+-00ADD8?logo=go)
![License](https://img.shields.io/badge/license-MIT-green.svg)

ะกะพะฒัะตะผะตะฝะฝัะน ะธะฝััััะผะตะฝั ะดะปั ะบะปะพะฝะธัะพะฒะฐะฝะธั ะฒะตะฑ-ัะฐะนัะพะฒ ั ะผะฝะพะณะพะฟะพัะพัะฝะพะน ะทะฐะณััะทะบะพะน, ัะผะฝะพะน ะพะฑัะฐะฑะพัะบะพะน ัััะปะพะบ ะธ ะบัะฐัะธะฒัะผ GUI.

## โจ ะะพะทะผะพะถะฝะพััะธ

- ๐ **ะะฝะพะณะพะฟะพัะพัะฝะฐั ะทะฐะณััะทะบะฐ** โ ะดะพ 20 ะพะดะฝะพะฒัะตะผะตะฝะฝัั worker'ะพะฒ
- ๐ **ะฃะผะฝะฐั ะฟะตัะตะทะฐะฟะธัั ัััะปะพะบ** โ ะฐะฒัะพะผะฐัะธัะตัะบะฐั ะบะพะฝะฒะตััะฐัะธั ะดะปั offline ะฟัะพัะผะพััะฐ
- ๐จ **ะกะพะฒัะตะผะตะฝะฝัะน Material Design UI** โ ัะตะผะฝะฐั ัะตะผะฐ ั ะณัะฐะดะธะตะฝัะฐะผะธ
- ๐ **Real-time ะฟัะพะณัะตัั** โ ะถะธะฒะพะต ะพัะพะฑัะฐะถะตะฝะธะต ััะฐัะธััะธะบะธ ะทะฐะณััะทะบะธ
- โ๏ธ **ะะฑัะฐะฑะพัะบะฐ PHP โ HTML** โ ะบะพะฝะฒะตััะฐัะธั ะดะธะฝะฐะผะธัะตัะบะธั ัััะฐะฝะธั
- ๐งน **ะัะธััะบะฐ CSS** โ ะพะฟัะธะผะธะทะฐัะธั ะฟััะตะน ะฒ ััะธะปัั
- ๐พ **ะกะพััะฐะฝะตะฝะธะต ัะพััะพัะฝะธั** โ ะฒะพะทะพะฑะฝะพะฒะปะตะฝะธะต ะฟัะตัะฒะฐะฝะฝัั ะทะฐะณััะทะพะบ

## ๐ ะขะตัะฝะธัะตัะบะธะน ััะตะบ

- **Go 1.21+** โ ะพัะฝะพะฒะฝะพะน ัะทัะบ
- **Fyne v2** โ ะบัะพััะฟะปะฐััะพัะผะตะฝะฝัะน GUI
- **golang.org/x/net/html** โ ะฟะฐััะธะฝะณ HTML
- **Concurrent workers** โ ะฟะฐัะฐะปะปะตะปัะฝะฐั ะพะฑัะฐะฑะพัะบะฐ

## ๐ฆ ะฃััะฐะฝะพะฒะบะฐ (Arch Linux)

### ะะฐะฒะธัะธะผะพััะธ ะดะปั Fyne

```bash
sudo pacman -S go libgl mesa xorg-server-devel libxcursor libxrandr libxinerama libxi
```

### ะกะฑะพัะบะฐ ะฟัะพะตะบัะฐ

```bash
cd /home/arthur/Projects/sitemvp

# ะกะฑะพัะบะฐ GUI
cd gui
go build -o sitemvp-gui

# ะกะฑะพัะบะฐ ะดะปั Windows (ััะตะฑัะตััั mingw-w64)
# sudo pacman -S mingw-w64-gcc
./build_windows.sh

# ะกะฑะพัะบะฐ CLI downloader
cd ../downloader
go build -o sitemvp-cli

# ะกะฑะพัะบะฐ processor
cd ../processor
go build -o sitemvp-processor
```

## ๐ ะัะฟะพะปัะทะพะฒะฐะฝะธะต

### GUI ัะตะถะธะผ (ัะตะบะพะผะตะฝะดัะตััั)

```bash
cd gui
./sitemvp-gui
```

**ะะฝัะตััะตะนั ะฒะบะปััะฐะตั 3 ะฒะบะปะฐะดะบะธ:**

1. **Downloader** โ ะทะฐะณััะทะบะฐ ัะฐะนัะฐ
   - ะะฒะตะดะธัะต URL (ะฝะฐะฟัะธะผะตั, `https://example.com`)
   - ะัะฑะตัะธัะต ะฟะฐะฟะบั ะดะปั ัะพััะฐะฝะตะฝะธั
   - ะะฐะถะผะธัะต "Start Download"
   - ะะฐะฑะปัะดะฐะนัะต ะทะฐ ะฟัะพะณัะตััะพะผ ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ

2. **Processor** โ ะพะฑัะฐะฑะพัะบะฐ ัะบะฐัะฐะฝะฝัั ัะฐะนะปะพะฒ
   - ะฃะบะฐะถะธัะต ะฟะฐะฟะบั ั ะทะฐะณััะถะตะฝะฝัะผ ัะฐะนัะพะผ
   - ะะฒะตะดะธัะต ะพัะธะณะธะฝะฐะปัะฝัะน ะดะพะผะตะฝ (ะฝะฐะฟัะธะผะตั, `example.com`)
   - ะะฐะถะผะธัะต "Process & Clean"
   - ะัะพะฒะตัััะต ะปะพะณะธ ะธ ััะฐัะธััะธะบั

3. **Server** โ ะปะพะบะฐะปัะฝัะน ะฟัะพัะผะพัั
   - ะฃะบะฐะถะธัะต ะฟะฐะฟะบั ั ัะฐะนัะพะผ
   - ะะฐะถะผะธัะต "Start Server"
   - ะะฐะถะผะธัะต "Open in Browser" ะดะปั ะฟัะพัะผะพััะฐ

4. **About** โ ะธะฝัะพัะผะฐัะธั ะพ ะฟัะธะปะพะถะตะฝะธะธ

### CLI ัะตะถะธะผ

#### Downloader

```bash
cd downloader
./sitemvp-cli download https://example.com \
  --workers 20 \
  --max-depth 15 \
  --output-dir ./downloads \
  --delay 200ms
```

**ะะฐัะฐะผะตััั:**
- `--workers` โ ะบะพะปะธัะตััะฒะพ ะฒะพัะบะตัะพะฒ (ะฟะพ ัะผะพะปัะฐะฝะธั: 6)
- `--max-depth` โ ะผะฐะบัะธะผะฐะปัะฝะฐั ะณะปัะฑะธะฝะฐ ัะตะบัััะธะธ (ะฟะพ ัะผะพะปัะฐะฝะธั: 30)
- `--retries` โ ะบะพะปะธัะตััะฒะพ ะฟะพะฒัะพัะฝัั ะฟะพะฟััะพะบ (ะฟะพ ัะผะพะปัะฐะฝะธั: 5)
- `--delay` โ ะทะฐะดะตัะถะบะฐ ะผะตะถะดั ะทะฐะฟัะพัะฐะผะธ (ะฟะพ ัะผะพะปัะฐะฝะธั: 2s)
- `--max-file-size` โ ะผะฐะบัะธะผะฐะปัะฝัะน ัะฐะทะผะตั ัะฐะนะปะฐ ะฒ ะฑะฐะนัะฐั (ะฟะพ ัะผะพะปัะฐะฝะธั: 15MB)
- `--output-dir` โ ะฟะฐะฟะบะฐ ะดะปั ัะพััะฐะฝะตะฝะธั (ะฟะพ ัะผะพะปัะฐะฝะธั: `./downloads`)

#### Processor

```bash
cd processor
./sitemvp-processor \
  -dir ./downloads/example.com \
  -host example.com \
  -output ./processed \
  -verbose
```

**ะะฐัะฐะผะตััั:**
- `-dir` โ ะฟะฐะฟะบะฐ ั ะธััะพะดะฝัะผ ัะฐะนัะพะผ
- `-host` โ ะดะพะผะตะฝ ัะฐะนัะฐ (ะฝะฐะฟัะธะผะตั, `example.com`)
- `-output` โ ะฟะฐะฟะบะฐ ะดะปั ะพะฑัะฐะฑะพัะฐะฝะฝัั ัะฐะนะปะพะฒ
- `-root` โ ะบะพัะตะฝั ัะฐะนัะฐ (ะฟะพ ัะผะพะปัะฐะฝะธั: `/`)
- `-verbose` โ ะฟะพะดัะพะฑะฝัะน ะฒัะฒะพะด
- `-debug` โ ะดะตัะฐะปะธ ะบะฐะถะดะพะน ะทะฐะผะตะฝั

## ๐จ ะกะบัะธะฝัะพัั ะธะฝัะตััะตะนัะฐ

### ะะบะปะฐะดะบะฐ Downloader
- ะขะตะผะฝะฐั ัะตะผะฐ ั Indigo-Purple ะณัะฐะดะธะตะฝัะพะผ
- ะัะพะณัะตัั-ะฑะฐั ั ะดะตัะฐะปัะฝะพะน ะธะฝัะพัะผะฐัะธะตะน
- Live-ะปะพะณะธ ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ
- ะะฒัะพัะบัะพะปะป

### ะะบะปะฐะดะบะฐ Processor
- ะะฝะฐะปะธะท JS/PHP ัะบัะธะฟัะพะฒ
- ะะพะดััะตั ะพะฑัะฐะฑะพัะฐะฝะฝัั ัะฐะนะปะพะฒ
- ะกัะฐัะธััะธะบะฐ ะทะฐะผะตะฝะตะฝะฝัั ัััะปะพะบ

## ๐ง ะะพะฝัะธะณััะฐัะธั

### config.yaml (ะพะฟัะธะพะฝะฐะปัะฝะพ)

```yaml
workers: 20
max_depth: 15
retries: 5
delay: 200ms
max_file_size: 52428800  # 50MB
output_dir: "./downloads"
user_agent: "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36"
```

ะคะฐะนะป ะฐะฒัะพะผะฐัะธัะตัะบะธ ััะธััะฒะฐะตััั ะธะท ัะตะบััะตะน ะดะธัะตะบัะพัะธะธ.

## ๐ Troubleshooting (Arch Linux)

### OpenGL/CGO ะพัะธะฑะบะธ

```bash
# ะฃะฑะตะดะธัะตัั, ััะพ CGO ะฒะบะปััะตะฝ
export CGO_ENABLED=1

# ะัะพะฒะตัััะต ะฒะตััะธั OpenGL
glxinfo | grep "OpenGL version"

# ะฃััะฐะฝะพะฒะธัะต ะฝะตะดะพััะฐััะธะต ะฑะธะฑะปะธะพัะตะบะธ
sudo pacman -S mesa-libgl libglvnd
```

### Fyne ะผะฐัััะฐะฑะธัะพะฒะฐะฝะธะต

```bash
# ะฃััะฐะฝะพะฒะธัะต ะผะฐัััะฐะฑ ะธะฝัะตััะตะนัะฐ
export FYNE_SCALE=1.0

# ะะฐะฟััะบ ั ะบะฐััะพะผะฝัะผ DPI
FYNE_SCALE=1.2 ./sitemvp-gui
```

### ะะพะณะธ ะดะปั ะพัะปะฐะดะบะธ

```bash
# ะะฐะฟััะบ ั ะดะตัะฐะปัะฝัะผะธ ะปะพะณะฐะผะธ
FYNE_SCALE=1.0 CGO_ENABLED=1 ./sitemvp-gui 2>&1 | tee debug.log
```

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
sitemvp/
โโโ downloader/
โ   โโโ client.go          # ะัะฝะพะฒะฝะพะน ะบะพะด ะทะฐะณััะทัะธะบะฐ
โ   โโโ sitemvp-cli        # CLI binary
โโโ processor/
โ   โโโ postproccesor.go   # ะะฑัะฐะฑะพัะบะฐ HTML/CSS
โ   โโโ sitemvp-processor  # CLI binary
โโโ gui/
โ   โโโ main.go            # GUI ะฟัะธะปะพะถะตะฝะธะต
โ   โโโ sitemvp-gui        # GUI binary
โโโ config.yaml            # ะะพะฝัะธะณััะฐัะธั (ะพะฟัะธะพะฝะฐะปัะฝะพ)
โโโ go.mod
โโโ README.md
```

## ๐ Pipeline ะธัะฟะพะปัะทะพะฒะฐะฝะธั

```
1. ะกะบะฐัะธะฒะฐะฝะธะต
   URL โ downloader โ downloads/example.com/

2. ะะฑัะฐะฑะพัะบะฐ
   downloads/example.com/ โ processor โ downloads/example.com_processed/

3. ะัะพัะผะพัั
   firefox downloads/example.com_processed/index.html
```

## ๐ Changelog

### v1.1.0 (2026-01-17)

**Added:**
- โจ ะะบะปะฐะดะบะฐ "Server" ั ะฒัััะพะตะฝะฝัะผ HTTP ัะตัะฒะตัะพะผ
- ๐ ะะฝะพะฟะบะฐ "Open in Browser"
- ๐ Thread-safe UI bindings (Fyne data binding)

**Fixed:**
- โ Fyne call thread errors (crashes)
- โ Progress bar thread safety

### v1.0.0 (2026-01-17)

**Fixed:**
- โ ะัะฟัะฐะฒะปะตะฝะพ ะทะฐะฒะธัะฐะฝะธะต downloader ะฟัะธ ะฟัััะพะน ะพัะตัะตะดะธ
- โ ะะฝะธัะธะฐะปะธะทะฐัะธั ะบะฐะฝะฐะปะฐ `Events` ะดะปั GUI
- โ ะะตัะตัะฟะพััะดะพัะธะฒะฐะฝะธะต ะณะพัััะธะฝ ะฒ `Job.Run()`
- โ ะะฒัะพะพะฟัะตะดะตะปะตะฝะธะต `OriginalHost` ะฒ processor
- โ ะะฐะผะตะฝะฐ ัะฐัะดะบะพะดะฐ ะฝะฐ ะบะพะฝััะฐะฝัั ะธะท `downloader.Default*`

**Added:**
- โจ ะกะพะฒัะตะผะตะฝะฝัะน Material Design UI
- ๐ Real-time ะฟัะพะณัะตัั-ะฑะฐัั
- ๐จ ะะฐััะพะผะฝะฐั ัะตะผะฝะฐั ัะตะผะฐ ั ะณัะฐะดะธะตะฝัะฐะผะธ
- ๐ Live-ะปะพะณะธัะพะฒะฐะฝะธะต ัะตัะตะท `OnLog` callback
- ๐ ะะฒัะพัะบัะพะปะป ะฒ ะปะพะณ-ะพะฑะปะฐััะธ

**Changed:**
- ๐จ ะะพะปะฝะฐั ะฟะตัะตัะฐะฑะพัะบะฐ GUI ะธะฝัะตััะตะนัะฐ
- ๐ฆ ะะฐััะพัะบะธ ั ะทะฐะบััะณะปะตะฝะฝัะผะธ ัะณะปะฐะผะธ
- ๐ ะฆะฒะตัะพะฒะฐั ััะตะผะฐ Indigo-Purple-Green

## ๐ค ะะบะปะฐะด ะฒ ะฟัะพะตะบั

ะัะพะตะบั ะฒ ััะฐะดะธะธ MVP. Pull requests ะฟัะธะฒะตัััะฒััััั!

### ะะปะฐะฝั ัะฐะทะฒะธัะธั

- [ ] ะะพะดะดะตัะถะบะฐ JavaScript ัะฐะนัะพะฒ (headless browser)
- [ ] ะญะบัะฟะพัั ะฒ WARC ัะพัะผะฐั
- [ ] ะกะถะฐัะธะต ะฒ ะฐััะธะฒ
- [ ] ะะปะฐะฝะธัะพะฒัะธะบ ะทะฐะณััะทะพะบ
- [ ] Whitelist/Blacklist URL ะฟะฐััะตัะฝะพะฒ
- [ ] ะกัะฐัะธััะธะบะฐ ะฟะพ ัะธะฟะฐะผ ัะฐะนะปะพะฒ (ะณัะฐัะธะบ)

## ๐ ะะธัะตะฝะทะธั

MIT License. ะกะผ. LICENSE ะดะปั ะดะตัะฐะปะตะน.

## ๐ค ะะฒัะพั

ะกะพะทะดะฐะฝะพ ะบะฐะบ MVP ะดะปั ะบะปะพะฝะธัะพะฒะฐะฝะธั ัะฐะนัะพะฒ ั ะฐะบัะตะฝัะพะผ ะฝะฐ:
- ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั (concurrent workers)
- UX (modern GUI)
- ะะฐะดะตะถะฝะพััั (state persistence)

---

**ะกะพะฒะตั:** ะะปั ะปัััะตะน ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ ะฝะฐ Arch Linux ั Wayland ะธัะฟะพะปัะทัะนัะต:

```bash
export GDK_BACKEND=wayland
export FYNE_SCALE=1.0
./sitemvp-gui
```
